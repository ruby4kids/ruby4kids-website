<div style="margin-bottom: 2em;">
  <div style="margin-bottom: 1em;">
    <h4><%= plural_name.humanize %> (<%%= link_to_function "search", "Element.toggle('search-form')" %>)</h4>
    <%%= render(:partial =>"shared/page_selector", :locals => {:page => @pager.current, :controller => '<%= plural_name %>', :action => 'list', :count => @count})%>    
  </div>

  <div style="margin-bottom: 1em; display: none;" id="search-form">
	<div class="fieldset">
		<fieldset>
    <%% form_tag(:action => "list") do %>
        <%%= render :partial => "query_form" %>
				<p><%%= submit_tag "Search" %></p></br>
		</fieldset>
		</div>
    <%% end %>
  </div>


  <div class="listing">
    <table width="100%">
      <thead>
        <tr>
          <th><%%= link_to 'New', :action => 'new<%= suffix %>' %></th>
          <%- for column in model.content_columns -%>
          <th><%= column.human_name %></th>
          <%- end -%>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <%% @items.each do |<%= singular_name %>| %>
          <tr class="<%%= cycle('odd', 'even') %>">
            <td><%%= link_to 'Show', :action => 'show<%= suffix %>', :id => <%= singular_name %> %> | <%%= link_to 'Edit', :action => 'edit<%= suffix %>', :id => <%= singular_name %> %></td>
            <%- for column in model.content_columns -%>
            <td><%%=h <%= singular_name %>.<%= column.name %> %></td>
            <%- end -%>
            <td><%%= link_to 'Destroy', { :action => 'destroy<%= suffix %>', :id => <%= singular_name %> }, :confirm => 'Are you sure?', :method => :post %></td>
          </tr>
        <%% end %>
      </tbody>
    </table>    
  </div>
</div>
